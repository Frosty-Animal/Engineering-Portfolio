<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raspberry Pi Cluster</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" type="image/png" href="../Pictures/WebsiteTitlePicture.png">
    <!-- FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<style>
    /* Remove sidebar styles and add new collapsible section styles */
    .content-wrapper {
        margin-left: 0; /* Remove sidebar margin */
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
    }

    /* Summary section styling */
    .project-summary {
        background: linear-gradient(135deg, #ec7a1c, #bc6116);
        color: white;
        padding: 30px;
        border-radius: 15px;
        margin: 30px 0;
        box-shadow: 0 10px 30px rgba(236, 122, 28, 0.3);
    }

    .project-summary h2 {
        margin: 0 0 15px 0;
        font-size: 1.8rem;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .project-summary .summary-content {
        font-size: 1.1rem;
        line-height: 1.6;
        margin-bottom: 20px;
    }

    .project-highlights {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 20px;
    }

    .highlight-item {
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 8px;
        text-align: center;
        backdrop-filter: blur(5px);
    }

    .highlight-value {
        font-size: 1.5rem;
        font-weight: bold;
        display: block;
    }

    .highlight-label {
        font-size: 0.9rem;
        opacity: 0.9;
    }

    /* Collapsible section styles */
    .collapsible-section {
        background: white;
        border-radius: 10px;
        margin: 20px 0;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: all 0.3s ease;
    }

    .section-header {
        background: #f8f6f3;
        padding: 20px 25px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: all 0.3s ease;
        border-left: 4px solid #ec7a1c;
    }

    .section-header:hover {
        background: #f0ede8;
    }

    .section-header.active {
        background: #ec7a1c;
        color: white;
    }

    .section-title {
        font-size: 1.3rem;
        font-weight: 600;
        margin: 0;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .section-icon {
        font-size: 1.1rem;
    }

    .toggle-icon {
        font-size: 1.2rem;
        transition: transform 0.3s ease;
    }

    .section-header.active .toggle-icon {
        transform: rotate(180deg);
    }

    .section-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease, padding 0.3s ease;
        background: white;
    }

    .section-content.active {
        max-height: 1500px; /* Increased for longer content */
        padding: 25px;
    }

    .section-content p,
    .section-content ul,
    .section-content ol {
        margin-bottom: 15px;
        line-height: 1.6;
        color: #444;
    }

    .section-content h3 {
        color: #ec7a1c;
        margin-top: 20px;
        margin-bottom: 10px;
    }

    .section-content ul {
        padding-left: 20px;
    }

    .section-content li {
        margin-bottom: 8px;
    }

    /* Tech stack styling */
    .tech-stack {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin: 15px 0;
    }

    .tech-item {
        background: #ec7a1c;
        color: white;
        padding: 6px 12px;
        border-radius: 15px;
        font-size: 0.85rem;
        font-weight: 500;
    }

    /* Results section special styling */
    .results-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 20px 0;
    }

    .result-card {
        background: #f8f6f3;
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid #ec7a1c;
    }

    .result-card h4 {
        color: #ec7a1c;
        margin: 0 0 10px 0;
    }

    /* Slideshow adjustments for new layout */
    .slideshow-container {
        max-width: 100%;
        margin: 30px 0;
    }

    /* Back button styling */
    .back-button {
        position: sticky;
        top: 20px;
        z-index: 100;
        margin-bottom: 20px;
    }

    .back-button a {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 12px 20px;
        background: #44443b;
        color: white;
        text-decoration: none;
        border-radius: 25px;
        font-weight: 500;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .back-button a:hover {
        background: #ec7a1c;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(236, 122, 28, 0.3);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .content-wrapper {
            padding: 15px;
        }

        .project-summary {
            padding: 20px;
        }

        .project-highlights {
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .section-header {
            padding: 15px 20px;
        }

        .section-content.active {
            padding: 20px;
        }

        .results-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
</head>
<body>

<div class="topnav">
    <a href="../index.html">Home</a>
    <a class="active" href="../projects.html">Projects</a>
    <a href="../resume.html">Resume</a>
    <a href="../about.html">About</a>
</div>

<div class="content-wrapper">
    <div class="back-button">
        <a href="../projects.html">
            <i class="fas fa-arrow-left"></i>
            Back to Projects
        </a>
    </div>

    <div class="content">
        <h1>Project: Kubernetes Raspberry Pi Cluster</h1>
    </div>

    <!-- PROJECT SUMMARY SECTION -->
    <div class="project-summary">
        <h2>
            <i class="fas fa-clipboard-list"></i>
            Executive Summary
        </h2>
        <div class="summary-content">
            Built a 3-node Kubernetes cluster using one Raspberry Pi 4 and two Raspberry Pi 5 boards for learning container orchestration
            and distributed computing. This project involved setting up a complete K3s Kubernetes environment with proper networking via
            a TP-Link TL-SG2008 V3 managed switch, implementing container deployments, and exploring microservices architecture for home lab applications.
        </div>

        <div class="project-highlights">
            <div class="highlight-item">
                <span class="highlight-value">3</span>
                <span class="highlight-label">Cluster Nodes</span>
            </div>
            <div class="highlight-item">
                <span class="highlight-value">32GB</span>
                <span class="highlight-label">Total RAM</span>
            </div>
            <div class="highlight-item">
                <span class="highlight-value">K3s</span>
                <span class="highlight-label">Kubernetes Distro</span>
            </div>
            <div class="highlight-item">
                <span class="highlight-value">Fall 2024</span>
                <span class="highlight-label">Completed</span>
            </div>
        </div>
    </div>

    <!-- SLIDESHOW -->
    <div class="slideshow-container">
        <div class="slide active">
            <img src="https://raw.githubusercontent.com/Frosty-Animal/Engineering-Portfolio/main/PiCluster1.jpg" alt="Raspberry Pi Cluster Assembly" style="width:100%">
        </div>
        <div class="slide">
            <img src="https://raw.githubusercontent.com/Frosty-Animal/Engineering-Portfolio/main/PiCluster2.jpg" alt="Network Configuration" style="width:100%">
        </div>
        <div class="slide">
            <img src="https://raw.githubusercontent.com/Frosty-Animal/Engineering-Portfolio/main/PiCluster3.jpg" alt="Kubernetes Dashboard" style="width:100%">
        </div>
        <div class="slide">
            <img src="https://raw.githubusercontent.com/Frosty-Animal/Engineering-Portfolio/main/PiCluster4.jpg" alt="Cluster in Operation" style="width:100%">
        </div>
        <div class="slide">
            <img src="https://raw.githubusercontent.com/Frosty-Animal/Engineering-Portfolio/main/PiCluster5.jpg" alt="Complete Setup" style="width:100%">
        </div>

        <button class="prev" onclick="plusSlides(-1)">&#10094;</button>
        <button class="next" onclick="plusSlides(1)">&#10095;</button>
    </div>

    <div class="dots">
        <span class="dot" onclick="currentSlide(1)"></span>
        <span class="dot" onclick="currentSlide(2)"></span>
        <span class="dot" onclick="currentSlide(3)"></span>
        <span class="dot" onclick="currentSlide(4)"></span>
        <span class="dot" onclick="currentSlide(5)"></span>
    </div>

    <!-- COLLAPSIBLE SECTIONS -->
    <div class="collapsible-section">
        <div class="section-header" onclick="toggleSection('overview')">
            <div class="section-title">
                <i class="fas fa-eye section-icon"></i>
                Project Overview
            </div>
            <i class="fas fa-chevron-down toggle-icon"></i>
        </div>
        <div class="section-content" id="overview">
            <p>
                This project started as a deep dive into container orchestration and distributed computing using affordable
                Raspberry Pi hardware. I wanted to understand how modern cloud infrastructure works at a fundamental level by
                building my own miniature data center that could run real applications using Kubernetes.
            </p>
            <p>
                The cluster consists of three nodes: one Raspberry Pi 4 (8GB) serving as the master node, and two Raspberry Pi 5
                (8GB each) as worker nodes. All three boards are connected through a TP-Link TL-SG2008 V3 managed switch, providing
                gigabit ethernet connectivity and VLAN capabilities for network segregation.
            </p>
            <p>
                Using K3s, a lightweight Kubernetes distribution perfect for edge computing and IoT devices, I was able to deploy
                a fully functional Kubernetes cluster that runs various containerized applications including web services, databases,
                monitoring tools, and development environments. The entire setup consumes less than 30W of power while providing
                a powerful learning platform for DevOps practices.
            </p>
        </div>
    </div>

    <div class="collapsible-section">
        <div class="section-header" onclick="toggleSection('materials')">
            <div class="section-title">
                <i class="fas fa-cogs section-icon"></i>
                Components & Materials
            </div>
            <i class="fas fa-chevron-down toggle-icon"></i>
        </div>
        <div class="section-content" id="materials">
            <h3>Hardware Components</h3>
            <ul>
                <li>1x Raspberry Pi 4 Model B (8GB RAM) - Master Node</li>
                <li>2x Raspberry Pi 5 (8GB RAM) - Worker Nodes</li>
                <li>TP-Link TL-SG2008 V3 8-Port Managed Switch</li>
                <li>3x Samsung EVO Select 128GB microSD cards (A2 rated for better I/O)</li>
                <li>3x Official Raspberry Pi power supplies (Pi 4: 15W, Pi 5: 27W each)</li>
                <li>4x Cat6 Ethernet cables (varying lengths)</li>
                <li>GeekPi cluster case with cooling fans</li>
                <li>3x Heatsink kits with thermal pads</li>
            </ul>

            <h3>Software Stack</h3>
            <ul>
                <li>Raspberry Pi OS Lite (64-bit) - Debian-based operating system</li>
                <li>K3s v1.28.3 - Lightweight Kubernetes distribution</li>
                <li>Docker/containerd - Container runtime</li>
                <li>Helm 3 - Kubernetes package manager</li>
                <li>MetalLB - Load balancer for bare metal Kubernetes</li>
                <li>Traefik - Ingress controller and reverse proxy</li>
                <li>Prometheus & Grafana - Monitoring and visualization</li>
                <li>Portainer - Container management UI</li>
            </ul>

            <h3>Network Configuration</h3>
            <ul>
                <li>Static IP addressing for all nodes</li>
                <li>VLAN 10 for cluster internal communication</li>
                <li>VLAN 20 for external service access</li>
                <li>Link aggregation for improved bandwidth (Pi 5 nodes)</li>
                <li>QoS policies for traffic prioritization</li>
            </ul>

            <div class="tech-stack">
                <span class="tech-item">Kubernetes</span>
                <span class="tech-item">K3s</span>
                <span class="tech-item">Docker</span>
                <span class="tech-item">Helm</span>
                <span class="tech-item">Linux</span>
                <span class="tech-item">Networking</span>
                <span class="tech-item">YAML</span>
                <span class="tech-item">Bash Scripting</span>
            </div>
        </div>
    </div>

    <div class="collapsible-section">
        <div class="section-header" onclick="toggleSection('assembly')">
            <div class="section-title">
                <i class="fas fa-wrench section-icon"></i>
                Assembly & Configuration
            </div>
            <i class="fas fa-chevron-down toggle-icon"></i>
        </div>
        <div class="section-content" id="assembly">
            <h3>Physical Assembly</h3>
            <ol>
                <li><strong>Case Preparation:</strong> Assembled the GeekPi cluster case with proper standoffs and fan mounting</li>
                <li><strong>Board Installation:</strong> Carefully mounted each Raspberry Pi with heatsinks and thermal pads applied</li>
                <li><strong>Power Distribution:</strong> Organized power cables to minimize clutter and ensure proper airflow</li>
                <li><strong>Network Cabling:</strong> Connected each Pi to the TP-Link switch with color-coded Cat6 cables</li>
                <li><strong>Cooling Setup:</strong> Configured fan speeds for optimal temperature management (targeting 45-50Â°C under load)</li>
            </ol>

            <h3>Operating System Setup</h3>
            <p>
                Flashed Raspberry Pi OS Lite 64-bit to all microSD cards using Raspberry Pi Imager, with SSH enabled and
                initial user configuration. Set up passwordless SSH access using SSH keys for secure remote management.
            </p>
            <ul>
                <li>Configured static IP addresses: Master (192.168.1.100), Workers (192.168.1.101-102)</li>
                <li>Updated all systems and installed essential packages</li>
                <li>Disabled swap on all nodes (required for Kubernetes)</li>
                <li>Enabled cgroups in boot configuration</li>
                <li>Set up NTP synchronization for accurate time keeping</li>
            </ul>

            <h3>Kubernetes Installation</h3>
            <ol>
                <li><strong>Master Node Setup:</strong> Installed K3s server with custom configuration for cluster initialization</li>
                <li><strong>Worker Nodes:</strong> Joined worker nodes using K3s agent with master node token</li>
                <li><strong>Network Plugin:</strong> Configured Flannel for pod networking with VXLAN backend</li>
                <li><strong>Storage Class:</strong> Set up local-path provisioner for persistent volume claims</li>
                <li><strong>Load Balancer:</strong> Deployed MetalLB with IP address pool for service exposure</li>
            </ol>

            <h3>Challenges Overcome</h3>
            <ul>
                <li>Resolved ARM64 compatibility issues with certain container images</li>
                <li>Optimized memory usage to prevent OOM kills on the Pi 4 master node</li>
                <li>Configured proper iptables rules for inter-node communication</li>
                <li>Implemented CPU throttling prevention with active cooling</li>
                <li>Debugged networking issues related to VLAN tagging on the managed switch</li>
            </ul>
        </div>
    </div>

    <div class="collapsible-section">
        <div class="section-header" onclick="toggleSection('testing')">
            <div class="section-title">
                <i class="fas fa-flask section-icon"></i>
                Deployment & Testing
            </div>
            <i class="fas fa-chevron-down toggle-icon"></i>
        </div>
        <div class="section-content" id="testing">
            <h3>Application Deployments</h3>
            <p>
                Successfully deployed and tested various containerized applications to validate cluster functionality:
            </p>
            <ul>
                <li><strong>WordPress + MySQL:</strong> Multi-tier web application with persistent storage</li>
                <li><strong>Pi-hole:</strong> Network-wide ad blocking and DNS management</li>
                <li><strong>Home Assistant:</strong> Home automation platform with IoT device integration</li>
                <li><strong>GitLab CE:</strong> Self-hosted Git repository and CI/CD platform</li>
                <li><strong>Nextcloud:</strong> Personal cloud storage solution with 1TB external SSD</li>
                <li><strong>Node-RED:</strong> Flow-based development tool for IoT applications</li>
            </ul>

            <h3>Performance Testing</h3>
            <ul>
                <li>Load tested with Apache Bench achieving 500+ requests/second for static content</li>
                <li>Stress tested pod scaling from 1 to 20 replicas with sub-second scheduling</li>
                <li>Network throughput testing showed 900+ Mbps between nodes</li>
                <li>Database benchmarks using sysbench for MySQL performance validation</li>
                <li>Container startup times averaging 2-3 seconds for typical workloads</li>
            </ul>

            <h3>Monitoring Implementation</h3>
            <ul>
                <li>Deployed Prometheus for metrics collection from all nodes and pods</li>
                <li>Configured Grafana dashboards for cluster visualization and alerting</li>
                <li>Set up node-exporter for system-level metrics (CPU, memory, disk, network)</li>
                <li>Implemented log aggregation using Loki for centralized logging</li>
                <li>Created custom alerts for resource utilization and service availability</li>
            </ul>

            <h3>High Availability Testing</h3>
            <ul>
                <li>Simulated node failures to test pod rescheduling and recovery</li>
                <li>Tested rolling updates with zero-downtime deployments</li>
                <li>Validated data persistence across pod restarts and migrations</li>
                <li>Implemented backup strategies using Velero for disaster recovery</li>
            </ul>
        </div>
    </div>

    <div class="collapsible-section">
        <div class="section-header" onclick="toggleSection('results')">
            <div class="section-title">
                <i class="fas fa-trophy section-icon"></i>
                Results & Outcomes
            </div>
            <i class="fas fa-chevron-down toggle-icon"></i>
        </div>
        <div class="section-content" id="results">
            <div class="results-grid">
                <div class="result-card">
                    <h4>Cluster Performance</h4>
                    <ul>
                        <li>24/7 uptime for 3+ months</li>
                        <li>Average CPU usage: 35-40%</li>
                        <li>Memory utilization: 60-70%</li>
                        <li>Power consumption: ~28W total</li>
                        <li>Network latency: <1ms inter-node</li>
                    </ul>
                </div>

                <div class="result-card">
                    <h4>Skills Developed</h4>
                    <ul>
                        <li>Kubernetes administration and troubleshooting</li>
                        <li>Container orchestration best practices</li>
                        <li>Network segmentation and VLANs</li>
                        <li>Infrastructure as Code (IaC) with YAML</li>
                        <li>Monitoring and observability practices</li>
                    </ul>
                </div>

                <div class="result-card">
                    <h4>Project Applications</h4>
                    <ul>
                        <li>Self-hosted home services platform</li>
                        <li>Development and testing environment</li>
                        <li>Learning platform for cloud technologies</li>
                        <li>IoT data processing pipeline</li>
                        <li>Personal CI/CD infrastructure</li>
                    </ul>
                </div>
            </div>

            <h3>Cost Analysis</h3>
            <p>
                Total project cost was approximately $450, including all hardware components and accessories. Compared to cloud
                services, the cluster pays for itself in about 6 months when running equivalent workloads. Annual electricity
                cost is roughly $30 at $0.12/kWh, making it extremely cost-effective for continuous operation.
            </p>

            <h3>Future Enhancements</h3>
            <ul>
                <li>Add NVMe storage via USB 3.0 adapters for improved I/O performance</li>
                <li>Implement Istio service mesh for advanced traffic management</li>
                <li>Expand to 5 nodes for true high availability with etcd quorum</li>
                <li>Deploy machine learning workloads using K3s and Edge computing frameworks</li>
                <li>Integrate with public cloud for hybrid cloud scenarios</li>
            </ul>

            <h3>Lessons Learned</h3>
            <p>
                This project provided invaluable hands-on experience with container orchestration, distributed systems, and
                infrastructure management. The Raspberry Pi platform proved to be remarkably capable for running production-grade
                Kubernetes workloads, despite the ARM architecture limitations. The combination of K3s and managed networking
                hardware created a robust, scalable platform that mirrors enterprise environments while remaining accessible
                for learning and experimentation. Most importantly, troubleshooting various issues deepened my understanding
                of Linux networking, container runtimes, and the complexity of distributed systems.
            </p>
        </div>
    </div>
</div>

<footer>
    <p>&copy; <script>document.write(new Date().getFullYear())</script> Isaiah Hajabolhassan. All Rights Reserved.</p>
    <a href="https://github.com/Frosty-Animal" target="_blank">
        <i class="fab fa-github"></i> GitHub
    </a>
    <a href="https://www.linkedin.com/in/isaiah-h/" target="_blank">
        <i class="fab fa-linkedin"></i> LinkedIn
    </a>
    <a href="mailto:Isaiahmh28@gmail.com">
        <i class="fas fa-envelope"></i> Email
    </a>
</footer>

<script>
    // Slideshow functionality
    let slideIndex = 1;
    showSlides(slideIndex);

    function plusSlides(n) {
        showSlides(slideIndex += n);
    }

    function currentSlide(n) {
        showSlides(slideIndex = n);
    }

    function showSlides(n) {
        const slides = document.querySelectorAll(".slide");
        const dots = document.querySelectorAll(".dot");

        if (n > slides.length) slideIndex = 1;
        if (n < 1) slideIndex = slides.length;

        slides.forEach(slide => (slide.style.display = "none"));
        dots.forEach(dot => dot.classList.remove("active-dot"));

        slides[slideIndex - 1].style.display = "block";
        dots[slideIndex - 1].classList.add("active-dot");
    }

    // Collapsible sections functionality
    function toggleSection(sectionId) {
        const content = document.getElementById(sectionId);
        const header = content.previousElementSibling;

        // Close all other sections
        document.querySelectorAll('.section-content').forEach(section => {
            if (section.id !== sectionId) {
                section.classList.remove('active');
                section.previousElementSibling.classList.remove('active');
            }
        });

        // Toggle current section
        content.classList.toggle('active');
        header.classList.toggle('active');
    }

    // Auto-open the overview section on page load
    document.addEventListener('DOMContentLoaded', function() {
        toggleSection('overview');
    });
</script>

</body>
</html>